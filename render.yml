# vikunja
# https://vikunja.io/docs/full-docker-example/#example-without-any-proxy
# Docs: http://192.168.1.###:3456/api/v1/docs
version: '3'

services:
  api:
    image: vikunja/api:latest
    container_name: vikunja-api
    environment:
        VIKUNJA_SERVICE_JWTSECRET: <a super secure random secret>
        VIKUNJA_SERVICE_PUBLICURL: http://<your public frontend url with slash>/
        # Note the default path is /app/vikunja/vikunja.db.
        # This config variable moves it to a different folder so you can use a volume and 
        # store the database file outside the container so state is persisted even if the container is destroyed.
        VIKUNJA_DATABASE_PATH: /db/vikunja.db
    ports:
        - 3456:3456
    volumes:
        - ./files:/app/vikunja/files
        - ./db:/db
    restart: unless-stopped